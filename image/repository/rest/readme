REST

The REST interface implements the IRService API for a admin and a non admin users from unique URLs.
The admin application name within the URL would be specified as adminRest, while the non admin
application name within the URL would be specified as userRest.
For example going to the URL https://<address>:<port>/adminRest/list  would allow an admin 
user to list all the users.   


For the REST put function there is no 
need to specify a tmp directory for uploading. The file 
retrieved from the client gets uploaded in the request object
and put directly within MongoDB from the request object.With the 
REST get function, the binary file data is retrieved from 
MongoDB and is downloaded to a filepath according to the 
users specification. 


INSTALLATION
REST comes with dependencies: cherrypy, openssl, and mongodb. To ensure these
dependencies are loaded on your system type ./install.  Check out 
the readme-install for more specifics.

 
STARTING UP MONGODB
MONGODB is the database server. In order to start up the server, type 
startServer <port num> within the main directory.

STARTING UP REST SERVICE - Admin Users
Type -  python startRestAdmin.py , this script will start

STARTING UP REST SERVER - Non Admin Users
Type - python startRestUser.py 

FILECOMPOSITION :
REST includes startRestUser.py and startRestAdmin.py for web front end, IRService as
the controller end, and the files IRDataAccessMongo.py and fglog.py 
for the database access end. All files are written in Python. 



EXECUTING THE SCRIPTS


StartServer:

Running the startServer script will first check the MONGO_DB variable to ensure
the path variable exists, then it will check if MONGO_DB/mongod and MONGO_DB/mongo
exist.. If it does not exist will download the mongo distribution. Next the program 
will look for HTTPS_PATH path and the keys/server.key, keys/server.csr and 
keys.server.crt files. If one does not exist then the script will dowload the 
OpenSSL distribution. The script would then generate or insure that all 3 files are there.. 

The OpenSSL commands to generate the keys are the following:

To generate the server server.key with passphrase:
openssl genrsa -des3 -out server.key 2048

Remove pssphrase from the key :
openssl rsa -in server.key -out server.key

Generate the certificate:
openssl req -new -key server.key -out server.csr

To sign by private key:
openssl x509 -req -days 60 -in server.csr -signkey server.key -out server.crt



